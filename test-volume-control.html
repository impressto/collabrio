<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Volume Control - Collabrio AI</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
        }
        .info {
            background: #e7f3ff;
            border-left: 4px solid #007acc;
            padding: 15px;
            margin: 20px 0;
        }
        .code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 16px;
            cursor: pointer;
            font-weight: 500;
            margin: 10px 5px;
            text-decoration: none;
            display: inline-block;
        }
        .volume-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .volume-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-align: center;
        }
        .volume-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 10px 0;
            position: relative;
        }
        .volume-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>üîä Audio Volume Control System</h1>
    
    <div class="success">
        <h3>‚úÖ Volume Control Added!</h3>
        <p>The AI timer audio now has configurable volume control through environment variables and code settings.</p>
    </div>

    <div class="info">
        <h3>üéöÔ∏è Volume Configuration Options:</h3>
        <div class="volume-levels">
            <div class="volume-item">
                <strong>Silent</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 0%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=0.0</code>
            </div>
            <div class="volume-item">
                <strong>Low</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 20%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=0.2</code>
            </div>
            <div class="volume-item">
                <strong>Default</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 30%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=0.3</code>
            </div>
            <div class="volume-item">
                <strong>Medium</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 50%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=0.5</code>
            </div>
            <div class="volume-item">
                <strong>High</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 80%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=0.8</code>
            </div>
            <div class="volume-item">
                <strong>Maximum</strong>
                <div class="volume-bar">
                    <div class="volume-fill" style="width: 100%"></div>
                </div>
                <code>VITE_AUDIO_VOLUME=1.0</code>
            </div>
        </div>
    </div>

    <div class="container">
        <h3>‚öôÔ∏è Implementation Details:</h3>
        
        <h4>1. Environment Variable Configuration:</h4>
        <div class="code"># client/.env
VITE_AUDIO_VOLUME=0.3

# Range: 0.0 (silent) to 1.0 (maximum)
# Default: 0.3 (30% volume) if not specified</div>

        <h4>2. Config.js Integration:</h4>
        <div class="code">// client/src/config.js
audioVolume: parseFloat(import.meta.env.VITE_AUDIO_VOLUME) || 0.3</div>

        <h4>3. Audio Element Setup:</h4>
        <div class="code">// Editor.jsx - Audio element with volume attribute
&lt;audio 
  ref={audioRef}
  preload="auto"
  volume={config.audioVolume || 0.3}
  style={{ display: 'none' }}
&gt;</div>

        <h4>4. Runtime Volume Control:</h4>
        <div class="code">// Dynamic volume setting when audio plays
if (audioRef.current) {
  audioRef.current.loop = true
  audioRef.current.volume = config.audioVolume || 0.3
  audioRef.current.play().catch(console.error)
}</div>
    </div>

    <div class="container">
        <h3>üéØ Volume Control Benefits:</h3>
        <ul>
            <li><strong>User Comfort:</strong> Adjustable volume for different environments</li>
            <li><strong>Accessibility:</strong> Lower volumes for sensitive users</li>
            <li><strong>Environment Specific:</strong> Different volumes for dev/staging/production</li>
            <li><strong>Easy Configuration:</strong> Simple environment variable change</li>
            <li><strong>Instant Apply:</strong> Takes effect immediately on rebuild</li>
            <li><strong>Fallback Safe:</strong> Defaults to 30% if not configured</li>
        </ul>
    </div>

    <div class="info">
        <h3>üîß How to Change Volume:</h3>
        <ol>
            <li><strong>Edit Environment File:</strong>
                <div class="code">cd client/
nano .env
# Change: VITE_AUDIO_VOLUME=0.5</div>
            </li>
            <li><strong>Rebuild Client:</strong>
                <div class="code">npm run build</div>
            </li>
            <li><strong>Copy Assets:</strong>
                <div class="code">cp dist/assets/* ../assets/</div>
            </li>
            <li><strong>Test:</strong> Use "Ask AI" feature to hear new volume level</li>
        </ol>
    </div>

    <div class="container">
        <h3>üìä Volume Guidelines:</h3>
        <ul>
            <li><strong>0.0 - 0.1:</strong> Nearly silent, for very quiet environments</li>
            <li><strong>0.1 - 0.3:</strong> Low volume, good for office/shared spaces</li>
            <li><strong>0.3 - 0.5:</strong> Medium volume, general use (default range)</li>
            <li><strong>0.5 - 0.8:</strong> Higher volume, for noisy environments</li>
            <li><strong>0.8 - 1.0:</strong> Loud, use carefully to avoid being intrusive</li>
        </ul>
    </div>

    <div class="container">
        <h3>üß™ Testing Different Volumes:</h3>
        <p>To test different volume levels without rebuilding each time:</p>
        <div class="code">// Temporary browser console test:
// 1. Open browser dev tools (F12)
// 2. In console, type:
const audioElement = document.querySelector('audio');
if (audioElement) {
  audioElement.volume = 0.1; // Set to 10% volume
  console.log('Volume set to:', audioElement.volume);
}

// 3. Then test "Ask AI" feature to hear the new volume</div>
    </div>

    <div class="container">
        <h3>üöÄ Quick Links:</h3>
        <a href="./" class="button">Open Collabrio App</a>
        <a href="./test-audio-feedback.html" class="button">Audio Feedback Info</a>
        <a href="./test-cohere-integration.html" class="button">AI Integration Test</a>
        <a href="./socket-server/admin.html" class="button">Socket Admin</a>
    </div>

    <div class="container">
        <h3>üìã Current Configuration Summary:</h3>
        <div class="code">‚úÖ Volume Control: Environment variable configurable
‚úÖ Default Volume: 0.3 (30% of maximum)
‚úÖ Volume Range: 0.0 to 1.0
‚úÖ Runtime Control: Set both at element creation and playback
‚úÖ Fallback Safety: Defaults to 0.3 if not configured
‚úÖ Easy Updates: Change .env and rebuild</div>
    </div>

</body>
</html>